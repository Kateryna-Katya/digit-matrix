{"version":3,"file":"main-BxOyeE9w.js","sources":["../../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n    // 1. Инициализация иконок (Lucide)\n    if (typeof lucide !== 'undefined') {\n        lucide.createIcons();\n    }\n\n    // 2. Хедер: изменение стиля при скролле\n    const header = document.querySelector('.header');\n    if (header) {\n        window.addEventListener('scroll', () => {\n            if (window.scrollY > 50) {\n                header.classList.add('header--scrolled');\n            } else {\n                header.classList.remove('header--scrolled');\n            }\n        });\n    }\n\n    // 3. Мобильное меню (Бургер)\n    const burger = document.getElementById('burger-toggle');\n    const mobileMenu = document.getElementById('mobile-menu-overlay');\n    \n    if (burger && mobileMenu) {\n        burger.onclick = () => {\n            burger.classList.toggle('burger--active');\n            mobileMenu.classList.toggle('mobile-menu--active');\n            document.body.style.overflow = mobileMenu.classList.contains('mobile-menu--active') ? 'hidden' : '';\n        };\n\n        document.querySelectorAll('.mobile-menu__link').forEach(link => {\n            link.onclick = () => {\n                burger.classList.remove('burger--active');\n                mobileMenu.classList.remove('mobile-menu--active');\n                document.body.style.overflow = '';\n            };\n        });\n    }\n\n    // 4. Анимации GSAP + SplitType (Исправленный блок)\n    if (typeof gsap !== 'undefined' && typeof ScrollTrigger !== 'undefined') {\n        gsap.registerPlugin(ScrollTrigger);\n\n        const heroTitle = document.querySelector('#hero-title');\n        \n        if (heroTitle && typeof SplitType !== 'undefined') {\n            // Разбиваем текст на символы\n            const text = new SplitType(heroTitle, { types: 'chars' });\n            \n            // Используем fromTo, чтобы избежать \"исчезновения\" заголовка\n            gsap.fromTo(text.chars, \n                { \n                    opacity: 0, \n                    y: 20 \n                }, \n                { \n                    opacity: 1, \n                    y: 0, \n                    stagger: 0.03, \n                    duration: 0.8, \n                    ease: \"power4.out\", \n                    delay: 0.3,\n                    clearProps: \"all\" // Очищает инлайн-стили после анимации для стабильности\n                }\n            );\n        }\n\n        // Плавное появление остальных секций с классом .reveal\n        document.querySelectorAll('.reveal').forEach(el => {\n            gsap.from(el, {\n                scrollTrigger: {\n                    trigger: el,\n                    start: \"top 85%\",\n                },\n                opacity: 0,\n                y: 30,\n                duration: 1,\n                ease: \"power2.out\"\n            });\n        });\n    }\n\n    // 5. Валидация, Капча и Форма\n    const mainForm = document.getElementById('main-form');\n    const phoneInput = document.getElementById('phone-input');\n    const captchaLabel = document.getElementById('captcha-question');\n    const captchaInput = document.getElementById('captcha-answer');\n    const successBox = document.getElementById('form-message');\n\n    if (mainForm) {\n        // Очистка телефона (только цифры и плюс)\n        if (phoneInput) {\n            phoneInput.oninput = (e) => {\n                e.target.value = e.target.value.replace(/[^\\d+]/g, '');\n            };\n        }\n\n        // Логика капчи\n        const n1 = Math.floor(Math.random() * 10);\n        const n2 = Math.floor(Math.random() * 10);\n        const captchaResult = n1 + n2;\n        if (captchaLabel) captchaLabel.innerText = `${n1} + ${n2} = `;\n\n        mainForm.onsubmit = (e) => {\n            e.preventDefault();\n\n            if (parseInt(captchaInput.value) !== captchaResult) {\n                alert('Ошибка в капче! Пожалуйста, проверьте сумму.');\n                return;\n            }\n\n            const btn = mainForm.querySelector('button[type=\"submit\"]');\n            if (btn) {\n                btn.disabled = true;\n                btn.innerText = 'Отправка...';\n            }\n\n            // Имитация отправки формы\n            setTimeout(() => {\n                mainForm.style.display = 'none';\n                if (successBox) {\n                    successBox.style.display = 'block';\n                    successBox.scrollIntoView({ behavior: 'smooth', block: 'center' });\n                    gsap.from(successBox, { opacity: 0, scale: 0.9, duration: 0.5 });\n                }\n            }, 1500);\n        };\n    }\n\n    // 6. Cookies Popup\n    const cookiePopup = document.getElementById('cookie-popup');\n    const cookieBtn = document.getElementById('cookie-accept');\n    \n    if (cookiePopup && !localStorage.getItem('cookies_ok')) {\n        setTimeout(() => cookiePopup.classList.add('cookie-popup--show'), 2000);\n        \n        if (cookieBtn) {\n            cookieBtn.onclick = () => {\n                localStorage.setItem('cookies_ok', 'true');\n                cookiePopup.classList.remove('cookie-popup--show');\n            };\n        }\n    }\n});"],"names":["header","burger","mobileMenu","link","heroTitle","text","el","mainForm","phoneInput","captchaLabel","captchaInput","successBox","e","n1","n2","captchaResult","btn","cookiePopup","cookieBtn"],"mappings":"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"}